
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3. Basic Statistics &#8212; Data Journalism</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/03-analyzing_numbers';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Python Data Wrangling I" href="04-join_and_aggregate.html" />
    <link rel="prev" title="2. Accessing Data" href="02-accessing_data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Data Journalism - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Data Journalism - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Course Overview</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="instructors.html">Instructors</a></li>
<li class="toctree-l1"><a class="reference internal" href="schedule.html">Schedule</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Notebooks</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-getting_started.html">1. On Jupyter Notebooks</a></li>


<li class="toctree-l1"><a class="reference internal" href="02-accessing_data.html">2. Accessing Data</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">3. Basic Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-join_and_aggregate.html">4. Python Data Wrangling I</a></li>


<li class="toctree-l1"><a class="reference internal" href="05-join_and_aggregate_makedataset.html">5. Python Data Wrangling II</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-aggregate_wozwaarde.html">6. Data Aggregation</a></li>

<li class="toctree-l1"><a class="reference internal" href="07-analyzing_text.html">7. Analyzing Text</a></li>

<li class="toctree-l1"><a class="reference internal" href="08-visualizations.html">8. Data Visualization</a></li>








<li class="toctree-l1"><a class="reference internal" href="09-interactive_visualizations.html">9. Interactive Data Visualization</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="datasets.html">Datasets</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/feloe/data_journalism" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/feloe/data_journalism/issues/new?title=Issue%20on%20page%20%2Fcontent/03-analyzing_numbers.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/content/03-analyzing_numbers.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>3. Basic Statistics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-our-tools-modules-libraries">Import our tools/modules/libraries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-data-into-a-dataframe">Read data into a dataframe</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-the-dataset">Explore the dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#groupby">Groupby</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pop-quiz">POP QUIZ!</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plots-grouped-by-variables">Plots grouped by variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#statistical-tests-and-subsetting-datasets">Statistical tests and subsetting datasets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#t-tests">T-tests</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#before-we-finish-let-s-play-around-with-some-more-graphics">Before we finish, let’s play around with some more graphics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#so">So…</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-non-graded-homework">More (non-graded) homework :)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#appendix-multivariate-statistical-analysis">Appendix: Multivariate statistical analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hexplots">Hexplots</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="basic-statistics">
<h1>3. Basic Statistics<a class="headerlink" href="#basic-statistics" title="Link to this heading">#</a></h1>
<p><em>Damian Trilling and Penny Sheets</em></p>
<p>This notebook is designed to show you some ways to use python for basic
statistical analysis of numbers, and to explore some methods that go beyond
<code class="docutils literal notranslate"><span class="pre">df.describe()</span></code> or <code class="docutils literal notranslate"><span class="pre">Counter()</span></code>, which we used last week. In particular, we are
going to look into analyzing numerical data. Next week, we will focus on textual
data.</p>
<p>The dataset we use in this example is a subset of the data presented in
Trilling, D. (2013). <em>Following the news. Patterns of online and offline news
use</em>. PhD thesis, University of Amsterdam. http://hdl.handle.net/11245/1.394551</p>
<section id="import-our-tools-modules-libraries">
<h2>Import our tools/modules/libraries<a class="headerlink" href="#import-our-tools-modules-libraries" title="Link to this heading">#</a></h2>
<p>As always, we first import the tools we’ll need. Today, we’ll use pandas
(usually imported as “pd”), and something called statsmodels, and something
called numpy. We also use matplotlib for some visualizations. A lot of other
stuff here we will need for some specific analyses later on; you don’t have to
worry about all of it right now.</p>
<p>If you want to learn more about these modules, you can look online for info.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">statsmodels</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">import</span> <span class="nn">statsmodels.formula.api</span> <span class="k">as</span> <span class="nn">smf</span>
<span class="kn">from</span> <span class="nn">statsmodels.stats.weightstats</span> <span class="kn">import</span> <span class="n">ttest_ind</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">kendalltau</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="read-data-into-a-dataframe">
<h2>Read data into a dataframe<a class="headerlink" href="#read-data-into-a-dataframe" title="Link to this heading">#</a></h2>
<p>We will read a dataset based on Trilling (2013). It contains some
sociodemographic variables as well as the number of days the respondent uses a
specific medium to access information about news and current affairs.</p>
<p>You should download the dataset (with the ‘save page as’ method, making sure
.txt isn’t appended to the file extension) into the same folder as this jupyter
notebook:
https://raw.githubusercontent.com/damian0604/bdaca/master/ipynb/mediause.csv</p>
<p>Remember that the ‘df’ here is arbitrary; last week we used the names ‘iris’ and
‘stockdata’ and others; this week we’re going more basic and just saying ‘df’
for dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># df = pd.read_csv(&#39;mediause.csv&#39;) # if you downloaded and stored the file locally </span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/damian0604/bdaca/master/ipynb/mediause.csv&#39;</span><span class="p">)</span> <span class="c1"># if directly reading it from source </span>
</pre></div>
</div>
</div>
</div>
<p>Using the .keys() method is way to find out what the columns are in your
dataframe. Sometimes they have nice labels already, and sometimes they don’t. In
this case, we’re in luck.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;gender&#39;, &#39;age&#39;, &#39;education&#39;, &#39;radio&#39;, &#39;newspaper&#39;, &#39;tv&#39;, &#39;internet&#39;], dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>Remember that for a dataframe or object in python, you can simply type its name
in a code cell and python will display it as best it can. (In this case, it
works well.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
      <th>age</th>
      <th>education</th>
      <th>radio</th>
      <th>newspaper</th>
      <th>tv</th>
      <th>internet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>71</td>
      <td>4.0</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>40</td>
      <td>2.0</td>
      <td>6</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>41</td>
      <td>2.0</td>
      <td>4</td>
      <td>3</td>
      <td>7</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>65</td>
      <td>5.0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>39</td>
      <td>2.0</td>
      <td>0</td>
      <td>1</td>
      <td>7</td>
      <td>7</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2076</th>
      <td>0</td>
      <td>49</td>
      <td>5.0</td>
      <td>3</td>
      <td>6</td>
      <td>6</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2077</th>
      <td>0</td>
      <td>51</td>
      <td>4.0</td>
      <td>7</td>
      <td>7</td>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2078</th>
      <td>1</td>
      <td>31</td>
      <td>6.0</td>
      <td>3</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2079</th>
      <td>0</td>
      <td>58</td>
      <td>6.0</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2080</th>
      <td>1</td>
      <td>21</td>
      <td>3.0</td>
      <td>2</td>
      <td>6</td>
      <td>6</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>2081 rows × 7 columns</p>
</div></div></div>
</div>
</section>
<section id="explore-the-dataset">
<h2>Explore the dataset<a class="headerlink" href="#explore-the-dataset" title="Link to this heading">#</a></h2>
<p>Let’s do some descriptive statistics, using the .describe() method we saw last
week. This would be important if you wanted to describe the dataset to your
audience, for example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
      <th>age</th>
      <th>education</th>
      <th>radio</th>
      <th>newspaper</th>
      <th>tv</th>
      <th>internet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2081.000000</td>
      <td>2081.000000</td>
      <td>2065.000000</td>
      <td>2081.000000</td>
      <td>2081.000000</td>
      <td>2081.000000</td>
      <td>2081.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.481499</td>
      <td>46.073522</td>
      <td>4.272639</td>
      <td>3.333974</td>
      <td>3.111004</td>
      <td>4.167227</td>
      <td>2.684286</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.499778</td>
      <td>18.267401</td>
      <td>1.661451</td>
      <td>2.699082</td>
      <td>2.853082</td>
      <td>2.517039</td>
      <td>2.786262</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>13.000000</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>31.000000</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>2.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>46.000000</td>
      <td>4.000000</td>
      <td>4.000000</td>
      <td>3.000000</td>
      <td>5.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>61.000000</td>
      <td>6.000000</td>
      <td>6.000000</td>
      <td>6.000000</td>
      <td>7.000000</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.000000</td>
      <td>95.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you want to find out how many possible values there are for a specific
variable, you can use the <code class="docutils literal notranslate"><span class="pre">.value_counts()</span></code> method. In this case, you select the
dataframe (which we’ve called <code class="docutils literal notranslate"><span class="pre">df</span></code>), select the column/variable you want to
examine, and then apply the method.</p>
<p>The output shows us that there are two values - 0 and 1 - for the ‘gender’
variable. It gives us how many instances (aka frequencies) of each of these
values exist in the dataset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>gender
0    1079
1    1002
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#as with any method, value_counts() has parameters we can adjust.</span>
<span class="c1">#by default, the results are sorted by size of the count, but we can</span>
<span class="c1">#also allow it to be random if we wanted. Compare the results.</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>education
4.0    667
2.0    323
5.0    178
6.0    396
3.0    214
7.0    219
1.0     68
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>education
4.0    667
6.0    396
2.0    323
7.0    219
3.0    214
5.0    178
1.0     68
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#if it is useful to sort by the index - i.e. days of the week here - then you can specify that as follows:</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>education
1.0     68
2.0    323
3.0    214
4.0    667
5.0    178
6.0    396
7.0    219
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#You can also use a help command to get python to print info about this method. But in this case, </span>
<span class="c1">#you have to make an additional step, because the selected column isn&#39;t an object until</span>
<span class="c1">#it is officially run in a &#39;real&#39; command. So you have to turn that into an object, and then ask for help.</span>

<span class="n">test</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;education&#39;</span><span class="p">]</span>
test.value_counts<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">Signature:</span>
test<span class=" -Color -Color-Blue">.</span>value_counts<span class=" -Color -Color-Blue">(</span>
    normalize<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">False</span><span class=" -Color -Color-Blue">,</span>
    sort<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">True</span><span class=" -Color -Color-Blue">,</span>
    ascending<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">False</span><span class=" -Color -Color-Blue">,</span>
    bins<span class=" -Color -Color-Blue">=</span><span class=" -Color -Color-Green">None</span><span class=" -Color -Color-Blue">,</span>
    dropna<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">True</span><span class=" -Color -Color-Blue">,</span>
<span class=" -Color -Color-Blue">)</span> <span class=" -Color -Color-Blue">-&gt;</span> <span class=" -Color -Color-Blue">&#39;Series&#39;</span>
<span class=" -Color -Color-Red">Docstring:</span>
Return a Series containing counts of unique values.

The resulting object will be in descending order so that the
first element is the most frequently-occurring element.
Excludes NA values by default.

Parameters
----------
normalize : bool, default False
    If True then the object returned will contain the relative
    frequencies of the unique values.
sort : bool, default True
    Sort by frequencies when True. Preserve the order of the data when False.
ascending : bool, default False
    Sort in ascending order.
bins : int, optional
    Rather than count values, group them into half-open bins,
    a convenience for ``pd.cut``, only works with numeric data.
dropna : bool, default True
    Don&#39;t include counts of NaN.

Returns
-------
Series

See Also
--------
Series.count: Number of non-NA elements in a Series.
DataFrame.count: Number of non-NA elements in a DataFrame.
DataFrame.value_counts: Equivalent method on DataFrames.

Examples
--------
&gt;&gt;&gt; index = pd.Index([3, 1, 2, 3, 4, np.nan])
&gt;&gt;&gt; index.value_counts()
3.0    2
1.0    1
2.0    1
4.0    1
Name: count, dtype: int64

With `normalize` set to `True`, returns the relative frequency by
dividing all values by the sum of values.

&gt;&gt;&gt; s = pd.Series([3, 1, 2, 3, 4, np.nan])
&gt;&gt;&gt; s.value_counts(normalize=True)
3.0    0.4
1.0    0.2
2.0    0.2
4.0    0.2
Name: proportion, dtype: float64

**bins**

Bins can be useful for going from a continuous variable to a
categorical variable; instead of counting unique
apparitions of values, divide the index in the specified
number of half-open bins.

&gt;&gt;&gt; s.value_counts(bins=3)
(0.996, 2.0]    2
(2.0, 3.0]      2
(3.0, 4.0]      1
Name: count, dtype: int64

**dropna**

With `dropna` set to `False` we can also see NaN index values.

&gt;&gt;&gt; s.value_counts(dropna=False)
3.0    2
1.0    1
2.0    1
4.0    1
NaN    1
Name: count, dtype: int64
<span class=" -Color -Color-Red">File:</span>      /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pandas/core/base.py
<span class=" -Color -Color-Red">Type:</span>      method
</pre></div>
</div>
</div>
</div>
<p>You can also display value counts for multiple variables at once, to get an
overview of your data. In this case, use a loop to replicate commands for each
of the four media types. We’ll do this next, but we’ll also set a few
specifications so that it prints out nicely.</p>
<p>See if you can figure out what each of these print commands is doing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">medium</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span><span class="s1">&#39;tv&#39;</span><span class="p">,</span><span class="s1">&#39;internet&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">medium</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">medium</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RADIO
radio
0    0.292167
7    0.199904
5    0.169149
3    0.082653
4    0.075925
2    0.066314
6    0.058145
1    0.055742
Name: proportion, dtype: float64
-------------------------------------------

NEWSPAPER
newspaper
0    0.356559
6    0.252763
7    0.126862
1    0.081211
2    0.061028
5    0.055262
3    0.038443
4    0.027871
Name: proportion, dtype: float64
-------------------------------------------

TV
tv
7    0.271024
5    0.149447
0    0.143681
6    0.112446
4    0.095147
3    0.082653
2    0.074003
1    0.071600
Name: proportion, dtype: float64
-------------------------------------------

INTERNET
internet
0    0.389716
7    0.197021
1    0.090822
2    0.083614
3    0.072081
5    0.069678
4    0.049976
6    0.047093
Name: proportion, dtype: float64
-------------------------------------------
</pre></div>
</div>
</div>
</div>
<p>So that’s one way to start exploring a dataset generally.</p>
</section>
<section id="groupby">
<h2>Groupby<a class="headerlink" href="#groupby" title="Link to this heading">#</a></h2>
<p>Let’s say you’d like to compare the media use of men and women in the dataset.
Eventually we’ll move toward statistical comparison, but for now we can start by
looking at their descriptive statistics - separately for men and women.</p>
<p>In python, this is quite easy, using the <code class="docutils literal notranslate"><span class="pre">.groupby()</span></code> method.</p>
<p>First, we group the dataframe by the ‘gender’ variable, and then apply a method
to that grouped dataframe; this is called ‘chaining’ multiple methods together.
(We saw a bit of this chaining idea last week already.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="8" halign="left">age</th>
      <th colspan="2" halign="left">education</th>
      <th>...</th>
      <th colspan="2" halign="left">tv</th>
      <th colspan="8" halign="left">internet</th>
    </tr>
    <tr>
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
      <th>count</th>
      <th>mean</th>
      <th>...</th>
      <th>75%</th>
      <th>max</th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
    <tr>
      <th>gender</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1079.0</td>
      <td>44.744208</td>
      <td>17.508053</td>
      <td>13.0</td>
      <td>30.0</td>
      <td>44.0</td>
      <td>59.0</td>
      <td>86.0</td>
      <td>1072.0</td>
      <td>4.212687</td>
      <td>...</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>1079.0</td>
      <td>2.370714</td>
      <td>2.682610</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>5.0</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1002.0</td>
      <td>47.504990</td>
      <td>18.956032</td>
      <td>13.0</td>
      <td>33.0</td>
      <td>47.0</td>
      <td>63.0</td>
      <td>95.0</td>
      <td>993.0</td>
      <td>4.337362</td>
      <td>...</td>
      <td>7.0</td>
      <td>7.0</td>
      <td>1002.0</td>
      <td>3.021956</td>
      <td>2.856809</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2.0</td>
      <td>6.0</td>
      <td>7.0</td>
    </tr>
  </tbody>
</table>
<p>2 rows × 48 columns</p>
</div></div></div>
</div>
<p>Sometimes in this case, it’s more useful to transpose the dataset, making
columns into rows and vice versa. This display will then be much easier to look
at. In this case, we use a .T at the end, after the describe() method. This
doesn’t change the dataframe in any way, just displays it differently for you
here.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;gender&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="8" valign="top">age</th>
      <th>count</th>
      <td>1079.000000</td>
      <td>1002.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>44.744208</td>
      <td>47.504990</td>
    </tr>
    <tr>
      <th>std</th>
      <td>17.508053</td>
      <td>18.956032</td>
    </tr>
    <tr>
      <th>min</th>
      <td>13.000000</td>
      <td>13.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>30.000000</td>
      <td>33.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>44.000000</td>
      <td>47.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>59.000000</td>
      <td>63.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>86.000000</td>
      <td>95.000000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">education</th>
      <th>count</th>
      <td>1072.000000</td>
      <td>993.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.212687</td>
      <td>4.337362</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.600510</td>
      <td>1.723294</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.000000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>4.000000</td>
      <td>4.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>6.000000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">radio</th>
      <th>count</th>
      <td>1079.000000</td>
      <td>1002.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.068582</td>
      <td>3.619760</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.697646</td>
      <td>2.672636</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.000000</td>
      <td>4.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>5.000000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">newspaper</th>
      <th>count</th>
      <td>1079.000000</td>
      <td>1002.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2.936052</td>
      <td>3.299401</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.838018</td>
      <td>2.858672</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2.000000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>6.000000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">tv</th>
      <th>count</th>
      <td>1079.000000</td>
      <td>1002.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>4.075996</td>
      <td>4.265469</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.529193</td>
      <td>2.501425</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5.000000</td>
      <td>5.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">internet</th>
      <th>count</th>
      <td>1079.000000</td>
      <td>1002.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2.370714</td>
      <td>3.021956</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.682610</td>
      <td>2.856809</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.000000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>5.000000</td>
      <td>6.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>7.000000</td>
      <td>7.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#try this again here, using a different variable as the grouping variable.</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#you can use help again here, to figure out all the specifications.</span>

df.groupby<span class="o">?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Red">Signature:</span>
df<span class=" -Color -Color-Blue">.</span>groupby<span class=" -Color -Color-Blue">(</span>
    by<span class=" -Color -Color-Blue">=</span><span class=" -Color -Color-Green">None</span><span class=" -Color -Color-Blue">,</span>
    axis<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;Axis | lib.NoDefault&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Blue">&lt;</span>no_default<span class=" -Color -Color-Blue">&gt;,</span>
    level<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;IndexLabel | None&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">None</span><span class=" -Color -Color-Blue">,</span>
    as_index<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">True</span><span class=" -Color -Color-Blue">,</span>
    sort<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">True</span><span class=" -Color -Color-Blue">,</span>
    group_keys<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">True</span><span class=" -Color -Color-Blue">,</span>
    observed<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool | lib.NoDefault&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Blue">&lt;</span>no_default<span class=" -Color -Color-Blue">&gt;,</span>
    dropna<span class=" -Color -Color-Blue">:</span> <span class=" -Color -Color-Blue">&#39;bool&#39;</span> <span class=" -Color -Color-Blue">=</span> <span class=" -Color -Color-Green">True</span><span class=" -Color -Color-Blue">,</span>
<span class=" -Color -Color-Blue">)</span> <span class=" -Color -Color-Blue">-&gt;</span> <span class=" -Color -Color-Blue">&#39;DataFrameGroupBy&#39;</span>
<span class=" -Color -Color-Red">Docstring:</span>
Group DataFrame using a mapper or by a Series of columns.

A groupby operation involves some combination of splitting the
object, applying a function, and combining the results. This can be
used to group large amounts of data and compute operations on these
groups.

Parameters
----------
by : mapping, function, label, pd.Grouper or list of such
    Used to determine the groups for the groupby.
    If ``by`` is a function, it&#39;s called on each value of the object&#39;s
    index. If a dict or Series is passed, the Series or dict VALUES
    will be used to determine the groups (the Series&#39; values are first
    aligned; see ``.align()`` method). If a list or ndarray of length
    equal to the selected axis is passed (see the `groupby user guide
    &lt;https://pandas.pydata.org/pandas-docs/stable/user_guide/groupby.html#splitting-an-object-into-groups&gt;`_),
    the values are used as-is to determine the groups. A label or list
    of labels may be passed to group by the columns in ``self``.
    Notice that a tuple is interpreted as a (single) key.
axis : {0 or &#39;index&#39;, 1 or &#39;columns&#39;}, default 0
    Split along rows (0) or columns (1). For `Series` this parameter
    is unused and defaults to 0.

    .. deprecated:: 2.1.0

        Will be removed and behave like axis=0 in a future version.
        For ``axis=1``, do ``frame.T.groupby(...)`` instead.

level : int, level name, or sequence of such, default None
    If the axis is a MultiIndex (hierarchical), group by a particular
    level or levels. Do not specify both ``by`` and ``level``.
as_index : bool, default True
    Return object with group labels as the
    index. Only relevant for DataFrame input. as_index=False is
    effectively &quot;SQL-style&quot; grouped output. This argument has no effect
    on filtrations (see the `filtrations in the user guide
    &lt;https://pandas.pydata.org/docs/dev/user_guide/groupby.html#filtration&gt;`_),
    such as ``head()``, ``tail()``, ``nth()`` and in transformations
    (see the `transformations in the user guide
    &lt;https://pandas.pydata.org/docs/dev/user_guide/groupby.html#transformation&gt;`_).
sort : bool, default True
    Sort group keys. Get better performance by turning this off.
    Note this does not influence the order of observations within each
    group. Groupby preserves the order of rows within each group. If False,
    the groups will appear in the same order as they did in the original DataFrame.
    This argument has no effect on filtrations (see the `filtrations in the user guide
    &lt;https://pandas.pydata.org/docs/dev/user_guide/groupby.html#filtration&gt;`_),
    such as ``head()``, ``tail()``, ``nth()`` and in transformations
    (see the `transformations in the user guide
    &lt;https://pandas.pydata.org/docs/dev/user_guide/groupby.html#transformation&gt;`_).

    .. versionchanged:: 2.0.0

        Specifying ``sort=False`` with an ordered categorical grouper will no
        longer sort the values.

group_keys : bool, default True
    When calling apply and the ``by`` argument produces a like-indexed
    (i.e. :ref:`a transform &lt;groupby.transform&gt;`) result, add group keys to
    index to identify pieces. By default group keys are not included
    when the result&#39;s index (and column) labels match the inputs, and
    are included otherwise.

    .. versionchanged:: 1.5.0

       Warns that ``group_keys`` will no longer be ignored when the
       result from ``apply`` is a like-indexed Series or DataFrame.
       Specify ``group_keys`` explicitly to include the group keys or
       not.

    .. versionchanged:: 2.0.0

       ``group_keys`` now defaults to ``True``.

observed : bool, default False
    This only applies if any of the groupers are Categoricals.
    If True: only show observed values for categorical groupers.
    If False: show all values for categorical groupers.

    .. deprecated:: 2.1.0

        The default value will change to True in a future version of pandas.

dropna : bool, default True
    If True, and if group keys contain NA values, NA values together
    with row/column will be dropped.
    If False, NA values will also be treated as the key in groups.

Returns
-------
pandas.api.typing.DataFrameGroupBy
    Returns a groupby object that contains information about the groups.

See Also
--------
resample : Convenience method for frequency conversion and resampling
    of time series.

Notes
-----
See the `user guide
&lt;https://pandas.pydata.org/pandas-docs/stable/groupby.html&gt;`__ for more
detailed usage and examples, including splitting an object into groups,
iterating through groups, selecting a group, aggregation, and more.

Examples
--------
&gt;&gt;&gt; df = pd.DataFrame({&#39;Animal&#39;: [&#39;Falcon&#39;, &#39;Falcon&#39;,
...                               &#39;Parrot&#39;, &#39;Parrot&#39;],
...                    &#39;Max Speed&#39;: [380., 370., 24., 26.]})
&gt;&gt;&gt; df
   Animal  Max Speed
0  Falcon      380.0
1  Falcon      370.0
2  Parrot       24.0
3  Parrot       26.0
&gt;&gt;&gt; df.groupby([&#39;Animal&#39;]).mean()
        Max Speed
Animal
Falcon      375.0
Parrot       25.0

**Hierarchical Indexes**

We can groupby different levels of a hierarchical index
using the `level` parameter:

&gt;&gt;&gt; arrays = [[&#39;Falcon&#39;, &#39;Falcon&#39;, &#39;Parrot&#39;, &#39;Parrot&#39;],
...           [&#39;Captive&#39;, &#39;Wild&#39;, &#39;Captive&#39;, &#39;Wild&#39;]]
&gt;&gt;&gt; index = pd.MultiIndex.from_arrays(arrays, names=(&#39;Animal&#39;, &#39;Type&#39;))
&gt;&gt;&gt; df = pd.DataFrame({&#39;Max Speed&#39;: [390., 350., 30., 20.]},
...                   index=index)
&gt;&gt;&gt; df
                Max Speed
Animal Type
Falcon Captive      390.0
       Wild         350.0
Parrot Captive       30.0
       Wild          20.0
&gt;&gt;&gt; df.groupby(level=0).mean()
        Max Speed
Animal
Falcon      370.0
Parrot       25.0
&gt;&gt;&gt; df.groupby(level=&quot;Type&quot;).mean()
         Max Speed
Type
Captive      210.0
Wild         185.0

We can also choose to include NA in group keys or not by setting
`dropna` parameter, the default setting is `True`.

&gt;&gt;&gt; l = [[1, 2, 3], [1, None, 4], [2, 1, 3], [1, 2, 2]]
&gt;&gt;&gt; df = pd.DataFrame(l, columns=[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])

&gt;&gt;&gt; df.groupby(by=[&quot;b&quot;]).sum()
    a   c
b
1.0 2   3
2.0 2   5

&gt;&gt;&gt; df.groupby(by=[&quot;b&quot;], dropna=False).sum()
    a   c
b
1.0 2   3
2.0 2   5
NaN 1   4

&gt;&gt;&gt; l = [[&quot;a&quot;, 12, 12], [None, 12.3, 33.], [&quot;b&quot;, 12.3, 123], [&quot;a&quot;, 1, 1]]
&gt;&gt;&gt; df = pd.DataFrame(l, columns=[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])

&gt;&gt;&gt; df.groupby(by=&quot;a&quot;).sum()
    b     c
a
a   13.0   13.0
b   12.3  123.0

&gt;&gt;&gt; df.groupby(by=&quot;a&quot;, dropna=False).sum()
    b     c
a
a   13.0   13.0
b   12.3  123.0
NaN 12.3   33.0

When using ``.apply()``, use ``group_keys`` to include or exclude the
group keys. The ``group_keys`` argument defaults to ``True`` (include).

&gt;&gt;&gt; df = pd.DataFrame({&#39;Animal&#39;: [&#39;Falcon&#39;, &#39;Falcon&#39;,
...                               &#39;Parrot&#39;, &#39;Parrot&#39;],
...                    &#39;Max Speed&#39;: [380., 370., 24., 26.]})
&gt;&gt;&gt; df.groupby(&quot;Animal&quot;, group_keys=True)[[&#39;Max Speed&#39;]].apply(lambda x: x)
          Max Speed
Animal
Falcon 0      380.0
       1      370.0
Parrot 2       24.0
       3       26.0

&gt;&gt;&gt; df.groupby(&quot;Animal&quot;, group_keys=False)[[&#39;Max Speed&#39;]].apply(lambda x: x)
   Max Speed
0      380.0
1      370.0
2       24.0
3       26.0
<span class=" -Color -Color-Red">File:</span>      /Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/pandas/core/frame.py
<span class=" -Color -Color-Red">Type:</span>      method
</pre></div>
</div>
</div>
</div>
<p>And, as we did last week, you can plot a simple histogram of the distribution of
a variable across the dataset. So if you want to look at how ‘radio’ (as in, how
many days per week a person uses radio) is distributed among your sample, e.g.,
you can use a histogram.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Here, &#39;bins&#39; refers to how many bars we want, essentially. If you don&#39;t specify, python/pandas will guess based</span>
<span class="c1">#on the dataset. This can be misleading. So if you know how many you want to display, you should specify.</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;radio&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="../_images/0dcdd4e8e5ffe26b12716aef89a040baf1322ece27741f7a3544d99439d5c7c0.png" src="../_images/0dcdd4e8e5ffe26b12716aef89a040baf1322ece27741f7a3544d99439d5c7c0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Try to plot a histogram of internet news use here:</span>
</pre></div>
</div>
</div>
</div>
<p>One of the modules we imported above helps us to make prettier plots (but no,
it’s not called “pretty plot” like “pretty print”). Here we can plot the value
counts for internet news use in a bar chart, again sorted by the index.</p>
<p>In particular, the histogram above is very good for continous variables, that we
want to ‘bin’ into fewer bins (=bars). But if we only have a small number of
discrete values (like here: the integers from 0 to 7), then the alignment of the
labels above may be more confusing.</p>
<p>Let’s try to use <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> to make a bar chart:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;internet&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;internet&#39;&gt;
</pre></div>
</div>
<img alt="../_images/9cd3a6248132ffefc68ac7feb15aa52bf7e47145c3da7a9d6561d5b7c5a8fcc3.png" src="../_images/9cd3a6248132ffefc68ac7feb15aa52bf7e47145c3da7a9d6561d5b7c5a8fcc3.png" />
</div>
</div>
</section>
<section id="pop-quiz">
<h2>POP QUIZ!<a class="headerlink" href="#pop-quiz" title="Link to this heading">#</a></h2>
<p>Can you integrate this plotting method in your for-loop (from above) to get a
nice series of plots? Fill in the missing line of code, below. But keep the
plt.show() command afterward, in order to display all plots.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">medium</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span><span class="s1">&#39;tv&#39;</span><span class="p">,</span><span class="s1">&#39;internet&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">medium</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">medium</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="c1">#YOUR CODE HERE</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RADIO
radio
0    0.292167
7    0.199904
5    0.169149
3    0.082653
4    0.075925
2    0.066314
6    0.058145
1    0.055742
Name: proportion, dtype: float64
-------------------------------------------

NEWSPAPER
newspaper
0    0.356559
6    0.252763
7    0.126862
1    0.081211
2    0.061028
5    0.055262
3    0.038443
4    0.027871
Name: proportion, dtype: float64
-------------------------------------------

TV
tv
7    0.271024
5    0.149447
0    0.143681
6    0.112446
4    0.095147
3    0.082653
2    0.074003
1    0.071600
Name: proportion, dtype: float64
-------------------------------------------

INTERNET
internet
0    0.389716
7    0.197021
1    0.090822
2    0.083614
3    0.072081
5    0.069678
4    0.049976
6    0.047093
Name: proportion, dtype: float64
-------------------------------------------
</pre></div>
</div>
</div>
</div>
<p>And instead of (or in addition to) the plt.show(), you can also save these plots
to your folder on your computer. These are very high quality images then, that
could be used in a piece (if you provided appropriate axis titles, etc.), and
you can specify the figure size and DPI.</p>
<p>Note here we’ve added a ‘figsize’ specification to the end of the plot method in
your missing line of code. You can play around with different figure sizes to
see what happens, if you display them here using plt.show().</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">medium</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span><span class="s1">&#39;tv&#39;</span><span class="p">,</span><span class="s1">&#39;internet&#39;</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">medium</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">medium</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-------------------------------------------</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="c1">#YOUR CODE HERE ...(kind=&#39;bar&#39;, figsize=(6,4))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">.png&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">medium</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1">#Now go check your folder and see if the image files have shown up.</span>
<span class="c1">#Note that we have to use the curly brackets and .format(medium) to give </span>
<span class="c1">#the relevant title to each figure. </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RADIO
radio
0    0.292167
7    0.199904
5    0.169149
3    0.082653
4    0.075925
2    0.066314
6    0.058145
1    0.055742
Name: proportion, dtype: float64
-------------------------------------------
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 640x480 with 0 Axes&gt;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NEWSPAPER
newspaper
0    0.356559
6    0.252763
7    0.126862
1    0.081211
2    0.061028
5    0.055262
3    0.038443
4    0.027871
Name: proportion, dtype: float64
-------------------------------------------
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 640x480 with 0 Axes&gt;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TV
tv
7    0.271024
5    0.149447
0    0.143681
6    0.112446
4    0.095147
3    0.082653
2    0.074003
1    0.071600
Name: proportion, dtype: float64
-------------------------------------------
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 640x480 with 0 Axes&gt;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>INTERNET
internet
0    0.389716
7    0.197021
1    0.090822
2    0.083614
3    0.072081
5    0.069678
4    0.049976
6    0.047093
Name: proportion, dtype: float64
-------------------------------------------
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Figure size 640x480 with 0 Axes&gt;
</pre></div>
</div>
</div>
</div>
<section id="plots-grouped-by-variables">
<h3>Plots grouped by variables<a class="headerlink" href="#plots-grouped-by-variables" title="Link to this heading">#</a></h3>
<p>You can also create comparison histograms, side-by-side, for different values of
a variable. For example, let’s look at the histogram of internet news use for
men and women in this dataset.</p>
<p>Here, we’re using the “by=[’ ‘]” command to specify which grouping variable we
want, and again specifying the bins and the figure size, both of which you can
play around with.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;internet&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([&lt;Axes: title={&#39;center&#39;: &#39;(0,)&#39;}&gt;, &lt;Axes: title={&#39;center&#39;: &#39;(1,)&#39;}&gt;],
      dtype=object)
</pre></div>
</div>
<img alt="../_images/c3fcfd913ec31cdd33984a022c9ad94e43967dc119f17733fdba7af51a596072.png" src="../_images/c3fcfd913ec31cdd33984a022c9ad94e43967dc119f17733fdba7af51a596072.png" />
</div>
</div>
</section>
</section>
<section id="statistical-tests-and-subsetting-datasets">
<h2>Statistical tests and subsetting datasets<a class="headerlink" href="#statistical-tests-and-subsetting-datasets" title="Link to this heading">#</a></h2>
<p>Now, if we want to move onto statistical comparisons, we can run our normal,
basic statistics here in python as well. There’s no need to import your datset
to SPSS to do this, if you want to know whether a specific difference is
significant, for example.</p>
<section id="t-tests">
<h3>T-tests<a class="headerlink" href="#t-tests" title="Link to this heading">#</a></h3>
<p>Let’s start with a t-test, comparing the mean internet news use for men and
women that we just examined in the histograms.</p>
<p>In order to do this, we have to create two new little dataframes out of our
first one - one for men, one for women.</p>
<p>We are using the ability to filter a dataframe (e.g., <code class="docutils literal notranslate"><span class="pre">df[df['gender']==1]</span></code> to
create a dataframe only for males; adding <code class="docutils literal notranslate"><span class="pre">['internet']</span></code> at the end selects only
the column for internet). This can be handy to select only relevant data for
your story out of a much larger dataset!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">males_internet</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;internet&#39;</span><span class="p">]</span>
<span class="n">females_internet</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;gender&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;internet&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Each of these new dataframes can then be described and explored as we do with
any pandas dataframe, and using <code class="docutils literal notranslate"><span class="pre">.describe()</span></code>, remember, gives us the mean score
(handy for our t-test!).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">males_internet</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    1002.000000
mean        3.021956
std         2.856809
min         0.000000
25%         0.000000
50%         2.000000
75%         6.000000
max         7.000000
Name: internet, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">females_internet</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count    1079.000000
mean        2.370714
std         2.682610
min         0.000000
25%         0.000000
50%         1.000000
75%         5.000000
max         7.000000
Name: internet, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>We see the male mean is 3.02, and the female mean is 2.37. But we don’t know if,
based on the sample, this is a significant difference. We don’t want to make
misleading claims in our story! So, run a t-test. (Specifically, an independent
samples t-test.)</p>
<p>The results return the test statistic, p-value, and the degrees of freedom (in
that order).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ttest_ind</span><span class="p">(</span><span class="n">males_internet</span><span class="p">,</span><span class="n">females_internet</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(5.363006854632647, 9.09406151669508e-08, 2079.0)
</pre></div>
</div>
</div>
</div>
<p>We see that males use the internet significantly more often than females (that
e-08 means the p-value is REALLY tiny).</p>
<p>We could also do some pretty-printing if we wanted to, to display this more
nicely for ourselves.</p>
<p>The “._f” specification is how many decimal places; the integer before the
colon is the position of the output from the default t-test command.</p>
<p>And again, here we see the use of “.format()” as a method to input something
from the ongoing calculation.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">ttest_ind</span><span class="p">(</span><span class="n">males_internet</span><span class="p">,</span><span class="n">females_internet</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;t(</span><span class="si">{2:.0f}</span><span class="s1">) = </span><span class="si">{0:.3f}</span><span class="s1">, p = </span><span class="si">{1:.3f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">*</span><span class="n">results</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>t(2079) = 5.363, p = 0.000
</pre></div>
</div>
</div>
</div>
<p>Let’s look into some continous variables. First of all, let us create one: We
make a subset of our dataframe that contains only the media variables, apply the
<code class="docutils literal notranslate"><span class="pre">.mean()</span></code> method to it (<code class="docutils literal notranslate"><span class="pre">axis</span> <span class="pre">=</span> <span class="pre">1</span></code> means that we want to apply it row-wise), and
then we assign the result of this to a new colum in the original dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;meanmedia&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span><span class="s1">&#39;internet&#39;</span><span class="p">,</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span><span class="s1">&#39;tv&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#We can then plot this mean media usage (for news) by age, using a scatterplot, e.g.</span>
<span class="c1">#Feel free to play around with the color parameters, and remember to use help commands to </span>
<span class="c1">#find out more about formatting these plots.</span>

<span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;meanmedia&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;age&#39;, ylabel=&#39;meanmedia&#39;&gt;
</pre></div>
</div>
<img alt="../_images/27a6102640cc8b463e8176046005bed9cc2ec5cc51ae6889c6e5904c0f45d808.png" src="../_images/27a6102640cc8b463e8176046005bed9cc2ec5cc51ae6889c6e5904c0f45d808.png" />
</div>
</div>
<p>There are obviously many more possibilities here, including running a
correlation between age and mean media use, for example, or using ANOVAs if you
had more than 2 groups to compare, etc. We don’t have time to show all of this
to you in class, but remember there is a ton of resources online, so you should
just search away to find what you need. If you have problems understanding
specific modules or commands you find online, you can approach us during our
open lab sessions with questions as to how to apply these techniques to your own
data story.</p>
</section>
<section id="before-we-finish-let-s-play-around-with-some-more-graphics">
<h3>Before we finish, let’s play around with some more graphics<a class="headerlink" href="#before-we-finish-let-s-play-around-with-some-more-graphics" title="Link to this heading">#</a></h3>
<p>The seaborn library (which we imported at the beginning) offers a lot of cool
stuff.</p>
<p>First, we’ll make a simple correlation matrix of the four media in this datset.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corrmatrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;internet&#39;</span><span class="p">,</span><span class="s1">&#39;tv&#39;</span><span class="p">,</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span><span class="s1">&#39;newspaper&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corrmatrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>internet</th>
      <th>tv</th>
      <th>radio</th>
      <th>newspaper</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>internet</th>
      <td>1.000000</td>
      <td>0.121192</td>
      <td>0.098797</td>
      <td>-0.005689</td>
    </tr>
    <tr>
      <th>tv</th>
      <td>0.121192</td>
      <td>1.000000</td>
      <td>0.270031</td>
      <td>0.350694</td>
    </tr>
    <tr>
      <th>radio</th>
      <td>0.098797</td>
      <td>0.270031</td>
      <td>1.000000</td>
      <td>0.230926</td>
    </tr>
    <tr>
      <th>newspaper</th>
      <td>-0.005689</td>
      <td>0.350694</td>
      <td>0.230926</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>But think of ways that are more useful to display this to audiences, who may not
want to deal with a correlation matrix. Heatmaps are one way to do this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corrmatrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="../_images/d5ca943bed7cf57b8734f63cb2bdb24b26b5e0a3ea433d1377826faedefbca21.png" src="../_images/d5ca943bed7cf57b8734f63cb2bdb24b26b5e0a3ea433d1377826faedefbca21.png" />
</div>
</div>
<p>This looks okay, but is a bit redundant, so it would be great if we could sort
of ‘white out’ the unnecessary (replicated) top triangle of the chart, and use
colors that are more intuitive - usually darker means a stronger relationship in
a heat map, right?</p>
<p>Here, note that hardly anyone can reproduce all of this out of his head. But if
you look around online, or use what we show you here and adapt it, you can do a
lot of amazing graphics stuff.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">)</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">corrmatrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">bool_</span><span class="p">)</span>
<span class="n">mask</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">triu_indices_from</span><span class="p">(</span><span class="n">mask</span><span class="p">)]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">light_palette</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">,</span><span class="n">as_cmap</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corrmatrix</span><span class="p">,</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span><span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span><span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">vmax</span><span class="o">=</span><span class="mf">.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: &gt;
</pre></div>
</div>
<img alt="../_images/7f78adfb76b9c580caa65d6065dc2e2eb382150a04692514a686df1c90cbdee8.png" src="../_images/7f78adfb76b9c580caa65d6065dc2e2eb382150a04692514a686df1c90cbdee8.png" />
</div>
</div>
</section>
</section>
<section id="so">
<h2>So…<a class="headerlink" href="#so" title="Link to this heading">#</a></h2>
<p>there are lots of possibilities here. Remember: google is your friend here!</p>
</section>
<section id="more-non-graded-homework">
<h2>More (non-graded) homework :)<a class="headerlink" href="#more-non-graded-homework" title="Link to this heading">#</a></h2>
<p>Using the Iris dataset from last Wednesday, try the following:</p>
<ol class="arabic simple">
<li><p>Describe the dataset</p></li>
<li><p>Find the value counts of the ‘species’ column</p></li>
<li><p>Describe the dataset for each of the species separately.</p></li>
<li><p>Transpose the output for this previous command.</p></li>
<li><p>Create side-by-side histograms of petal length for each species.</p></li>
</ol>
<p>Regardless whether you were able to do that, here’s a really cool graphic to
show you. In this case, we’re plotting petal width by petal length, with a
different color for each species. This also uses the seaborn library (indicated
by sns). Because of the nature of this dataset and the values within it, it
works quite well.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/mwaskom/seaborn-data/master/iris.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>species</th>
      <th>setosa</th>
      <th>versicolor</th>
      <th>virginica</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="8" valign="top">sepal_length</th>
      <th>count</th>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>5.006000</td>
      <td>5.936000</td>
      <td>6.588000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.352490</td>
      <td>0.516171</td>
      <td>0.635880</td>
    </tr>
    <tr>
      <th>min</th>
      <td>4.300000</td>
      <td>4.900000</td>
      <td>4.900000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>4.800000</td>
      <td>5.600000</td>
      <td>6.225000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>5.000000</td>
      <td>5.900000</td>
      <td>6.500000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>5.200000</td>
      <td>6.300000</td>
      <td>6.900000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>5.800000</td>
      <td>7.000000</td>
      <td>7.900000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">sepal_width</th>
      <th>count</th>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.428000</td>
      <td>2.770000</td>
      <td>2.974000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.379064</td>
      <td>0.313798</td>
      <td>0.322497</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2.300000</td>
      <td>2.000000</td>
      <td>2.200000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>3.200000</td>
      <td>2.525000</td>
      <td>2.800000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.400000</td>
      <td>2.800000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>3.675000</td>
      <td>3.000000</td>
      <td>3.175000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>4.400000</td>
      <td>3.400000</td>
      <td>3.800000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">petal_length</th>
      <th>count</th>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.462000</td>
      <td>4.260000</td>
      <td>5.552000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.173664</td>
      <td>0.469911</td>
      <td>0.551895</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000</td>
      <td>3.000000</td>
      <td>4.500000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.400000</td>
      <td>4.000000</td>
      <td>5.100000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.500000</td>
      <td>4.350000</td>
      <td>5.550000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.575000</td>
      <td>4.600000</td>
      <td>5.875000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.900000</td>
      <td>5.100000</td>
      <td>6.900000</td>
    </tr>
    <tr>
      <th rowspan="8" valign="top">petal_width</th>
      <th>count</th>
      <td>50.000000</td>
      <td>50.000000</td>
      <td>50.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.246000</td>
      <td>1.326000</td>
      <td>2.026000</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.105386</td>
      <td>0.197753</td>
      <td>0.274650</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.100000</td>
      <td>1.000000</td>
      <td>1.400000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.200000</td>
      <td>1.200000</td>
      <td>1.800000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.200000</td>
      <td>1.300000</td>
      <td>2.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.300000</td>
      <td>1.500000</td>
      <td>2.300000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.600000</td>
      <td>1.800000</td>
      <td>2.500000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;species&#39;</span><span class="p">],</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[&lt;Axes: title={&#39;center&#39;: &#39;(setosa,)&#39;}&gt;,
        &lt;Axes: title={&#39;center&#39;: &#39;(versicolor,)&#39;}&gt;],
       [&lt;Axes: title={&#39;center&#39;: &#39;(virginica,)&#39;}&gt;, &lt;Axes: &gt;]], dtype=object)
</pre></div>
</div>
<img alt="../_images/07e4480a9dcfa10f9859e0f2100bdafc28382b67d41168ea3ae5be5759a8e313.png" src="../_images/07e4480a9dcfa10f9859e0f2100bdafc28382b67d41168ea3ae5be5759a8e313.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;species&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">iris</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;Axes: xlabel=&#39;petal_width&#39;, ylabel=&#39;petal_length&#39;&gt;
</pre></div>
</div>
<img alt="../_images/9d9b392b10581cfa9618e248b158d705bff7249aed84a67fb9f524b748b727e3.png" src="../_images/9d9b392b10581cfa9618e248b158d705bff7249aed84a67fb9f524b748b727e3.png" />
</div>
</div>
</section>
<section id="appendix-multivariate-statistical-analysis">
<h2>Appendix: Multivariate statistical analysis<a class="headerlink" href="#appendix-multivariate-statistical-analysis" title="Link to this heading">#</a></h2>
<p>For those who are interested, here’s a brief bit on multivariate analyses. Here,
we’re focusing on the same comparison of internet news use between men and
women, but first, let’s see whether that holds when we control for political
interest.</p>
<p>Before we can do that, we have to bring in another datset, however, and join it.
You can access this dataset and save it from the following URL:
https://raw.githubusercontent.com/damian0604/bdaca/master/ipynb/intpol.csv</p>
<p>We’ll talk more about aggregating/merging datasets in a later session, so for
now just go with it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># intpol=pd.read_csv(&#39;intpol.csv&#39;) # if you stored it locally </span>
<span class="n">intpol</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/damian0604/bdaca/master/ipynb/intpol.csv&#39;</span><span class="p">)</span> <span class="c1"># if reading it directly from the website</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">intpol</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">combined</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gender</th>
      <th>age</th>
      <th>education</th>
      <th>radio</th>
      <th>newspaper</th>
      <th>tv</th>
      <th>internet</th>
      <th>meanmedia</th>
      <th>intpol</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>71</td>
      <td>4.0</td>
      <td>5</td>
      <td>6</td>
      <td>5</td>
      <td>0</td>
      <td>4.00</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>40</td>
      <td>2.0</td>
      <td>6</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.50</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>41</td>
      <td>2.0</td>
      <td>4</td>
      <td>3</td>
      <td>7</td>
      <td>3</td>
      <td>4.25</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>65</td>
      <td>5.0</td>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>0</td>
      <td>1.25</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>39</td>
      <td>2.0</td>
      <td>0</td>
      <td>1</td>
      <td>7</td>
      <td>7</td>
      <td>3.75</td>
      <td>1</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2076</th>
      <td>0</td>
      <td>49</td>
      <td>5.0</td>
      <td>3</td>
      <td>6</td>
      <td>6</td>
      <td>0</td>
      <td>3.75</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2077</th>
      <td>0</td>
      <td>51</td>
      <td>4.0</td>
      <td>7</td>
      <td>7</td>
      <td>5</td>
      <td>5</td>
      <td>6.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2078</th>
      <td>1</td>
      <td>31</td>
      <td>6.0</td>
      <td>3</td>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>4.75</td>
      <td>7</td>
    </tr>
    <tr>
      <th>2079</th>
      <td>0</td>
      <td>58</td>
      <td>6.0</td>
      <td>3</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
      <td>1.75</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2080</th>
      <td>1</td>
      <td>21</td>
      <td>3.0</td>
      <td>2</td>
      <td>6</td>
      <td>6</td>
      <td>4</td>
      <td>4.50</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
<p>2081 rows × 9 columns</p>
</div></div></div>
</div>
<p>Let’s do an OLS regression. In order to do so, we need to define a model and
then run it. When defining the model, you create the equation in the following
manner:</p>
<ul class="simple">
<li><p>First you include your dependent variable, followed by the ~ sign</p></li>
<li><p>Then you include the independent variables (separated by the + sign)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m1</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="s1">&#39;internet ~ age + gender + education&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">combined</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m1</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>        <td>internet</td>     <th>  R-squared:         </th> <td>   0.085</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.084</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   63.91</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 06 Nov 2024</td> <th>  Prob (F-statistic):</th> <td>1.65e-39</td>
</tr>
<tr>
  <th>Time:</th>                 <td>17:29:58</td>     <th>  Log-Likelihood:    </th> <td> -4951.8</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  2065</td>      <th>  AIC:               </th> <td>   9912.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  2061</td>      <th>  BIC:               </th> <td>   9934.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>    1.1512</td> <td>    0.233</td> <td>    4.941</td> <td> 0.000</td> <td>    0.694</td> <td>    1.608</td>
</tr>
<tr>
  <th>age</th>       <td>   -0.0119</td> <td>    0.003</td> <td>   -3.675</td> <td> 0.000</td> <td>   -0.018</td> <td>   -0.006</td>
</tr>
<tr>
  <th>gender</th>    <td>    0.6224</td> <td>    0.118</td> <td>    5.283</td> <td> 0.000</td> <td>    0.391</td> <td>    0.853</td>
</tr>
<tr>
  <th>education</th> <td>    0.4175</td> <td>    0.035</td> <td>   11.763</td> <td> 0.000</td> <td>    0.348</td> <td>    0.487</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>976.493</td> <th>  Durbin-Watson:     </th> <td>   1.978</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td> 187.053</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.481</td>  <th>  Prob(JB):          </th> <td>2.41e-41</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 1.882</td>  <th>  Cond. No.          </th> <td>    199.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m2</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="s1">&#39;internet ~ age + gender + education + intpol&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">combined</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">()</span>
<span class="n">m2</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>        <td>internet</td>     <th>  R-squared:         </th> <td>   0.100</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.099</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   57.45</td>
</tr>
<tr>
  <th>Date:</th>             <td>Wed, 06 Nov 2024</td> <th>  Prob (F-statistic):</th> <td>5.12e-46</td>
</tr>
<tr>
  <th>Time:</th>                 <td>17:30:01</td>     <th>  Log-Likelihood:    </th> <td> -4934.5</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>  2065</td>      <th>  AIC:               </th> <td>   9879.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>  2060</td>      <th>  BIC:               </th> <td>   9907.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     4</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td>    1.0389</td> <td>    0.232</td> <td>    4.481</td> <td> 0.000</td> <td>    0.584</td> <td>    1.494</td>
</tr>
<tr>
  <th>age</th>       <td>   -0.0196</td> <td>    0.003</td> <td>   -5.642</td> <td> 0.000</td> <td>   -0.026</td> <td>   -0.013</td>
</tr>
<tr>
  <th>gender</th>    <td>    0.5212</td> <td>    0.118</td> <td>    4.413</td> <td> 0.000</td> <td>    0.290</td> <td>    0.753</td>
</tr>
<tr>
  <th>education</th> <td>    0.3447</td> <td>    0.037</td> <td>    9.240</td> <td> 0.000</td> <td>    0.272</td> <td>    0.418</td>
</tr>
<tr>
  <th>intpol</th>    <td>    0.2230</td> <td>    0.038</td> <td>    5.910</td> <td> 0.000</td> <td>    0.149</td> <td>    0.297</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>763.270</td> <th>  Durbin-Watson:     </th> <td>   1.972</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td> 179.407</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.483</td>  <th>  Prob(JB):          </th> <td>1.10e-39</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 1.926</td>  <th>  Cond. No.          </th> <td>    200.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</div></div>
</div>
<p>We can also do a test to see whether M2 is better than M1 (it is, in this case:)
(see also
http://www.statsmodels.org/stable/generated/statsmodels.regression.linear_model.OLSResults.compare_lr_test.html?highlight=compare_lr_test
)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">m2</span><span class="o">.</span><span class="n">compare_lr_test</span><span class="p">(</span><span class="n">m1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(34.71733114293056, 3.8122257183791596e-09, 1.0)
</pre></div>
</div>
</div>
</div>
</section>
<section id="hexplots">
<h2>Hexplots<a class="headerlink" href="#hexplots" title="Link to this heading">#</a></h2>
<p>We have seen scatterplots at work above. Scatterplots are a cool way to show the
relationship between two variables, but they mainly work well if both variables
have a lot of different values (say, the money people earn in Euros’ (and not in
categories!), or the time people spent on Facebook in exact minutes). However,
if we have only few possible values (such as the integers from 0 to 7, as in our
examples above), the dots in the scatterplot will overlap, and an observation
that only occurs one single time looks exactly like an observation that occurs
1000 times.</p>
<p>A hexplot is very much like a scatterplot, but <em>the more observations overlap at
the same (hexagon-shaped) place in the graph, the darker it gets.</em></p>
<p>To make it even more informative, we add histograms of the two variables in the
margin, so that you can immediately get an idea of the distributions. This,
again, helps us to understand whether there are just a few (very old, very
young) people that behave in some way (no media at all, media every day), or
whether it’s a general pattern.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">jointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;meanmedia&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">combined</span><span class="p">,</span> 
              <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;hex&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#4CB391&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.JointGrid at 0x325418fe0&gt;
</pre></div>
</div>
<img alt="../_images/692d265d367c3921f57e33ce61f4805717847d5d277953c32c430b2ba8bafb72.png" src="../_images/692d265d367c3921f57e33ce61f4805717847d5d277953c32c430b2ba8bafb72.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="02-accessing_data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">2. Accessing Data</p>
      </div>
    </a>
    <a class="right-next"
       href="04-join_and_aggregate.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">4. Python Data Wrangling I</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-our-tools-modules-libraries">Import our tools/modules/libraries</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-data-into-a-dataframe">Read data into a dataframe</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explore-the-dataset">Explore the dataset</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#groupby">Groupby</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pop-quiz">POP QUIZ!</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plots-grouped-by-variables">Plots grouped by variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#statistical-tests-and-subsetting-datasets">Statistical tests and subsetting datasets</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#t-tests">T-tests</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#before-we-finish-let-s-play-around-with-some-more-graphics">Before we finish, let’s play around with some more graphics</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#so">So…</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#more-non-graded-homework">More (non-graded) homework :)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#appendix-multivariate-statistical-analysis">Appendix: Multivariate statistical analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hexplots">Hexplots</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Felicia Loecherbach
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>